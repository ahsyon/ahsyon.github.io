<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>N1安装iStoreOS教程 | Only 18+</title><meta name="author" content="池中物"><meta name="copyright" content="池中物"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="article">
<meta property="og:title" content="N1安装iStoreOS教程">
<meta property="og:url" content="http://blog.340102.xyz/posts/1666d695/index.html">
<meta property="og:site_name" content="Only 18+">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://picsum.photos/1920/1080">
<meta property="article:published_time" content="2025-02-14T03:33:47.000Z">
<meta property="article:modified_time" content="2025-02-25T02:28:51.979Z">
<meta property="article:author" content="池中物">
<meta property="article:tag" content="istoreOS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://picsum.photos/1920/1080"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "N1安装iStoreOS教程",
  "url": "http://blog.340102.xyz/posts/1666d695/",
  "image": "https://picsum.photos/1920/1080",
  "datePublished": "2025-02-14T03:33:47.000Z",
  "dateModified": "2025-02-25T02:28:51.979Z",
  "author": [
    {
      "@type": "Person",
      "name": "池中物",
      "url": "http://blog.340102.xyz/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://blog.340102.xyz/posts/1666d695/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')
          
          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":150,"languages":{"author":"作者: 池中物","link":"链接: ","source":"来源: Only 18+","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'N1安装iStoreOS教程',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://pic.340102.xyz/api/rfile/IMG_5522.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-file-alt"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-gamepad"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movie/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-ellipsis-h"></i><span> 其他</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/comments/"><i class="fa-fw far fa-envelope"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/network-status/"><i class="fa-fw fas fa-wifi"></i><span> 网络状态</span></a></li><li><a class="site-page child" href="/equipment/"><i class="fa-fw fas fa-desktop"></i><span> 我的装备</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://picsum.photos/1920/1080);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://pic.340102.xyz/api/rfile/WeChat40d5941863bf6d38343ec142e8d35310.jpg" alt="Logo"></a><a class="nav-page-title" href="/"><span class="site-name">N1安装iStoreOS教程</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-file-alt"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-gamepad"></i><span> 休闲</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movie/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/game/"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-ellipsis-h"></i><span> 其他</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/comments/"><i class="fa-fw far fa-envelope"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/network-status/"><i class="fa-fw fas fa-wifi"></i><span> 网络状态</span></a></li><li><a class="site-page child" href="/equipment/"><i class="fa-fw fas fa-desktop"></i><span> 我的装备</span></a></li><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">N1安装iStoreOS教程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-02-14T03:33:47.000Z" title="发表于 2025-02-14 11:33:47">2025-02-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-02-25T02:28:51.979Z" title="更新于 2025-02-25 10:28:51">2025-02-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/">网络相关</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>5分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div></div>

<span id="more"></span>

<h2 id="斐讯N1-专用文档"><a href="#斐讯N1-专用文档" class="headerlink" title="斐讯N1 专用文档"></a>斐讯N1 专用文档</h2><p>刷机方法：</p>
<ol>
<li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://doc.linkease.com/zh/guide/istoreos/install_sd.html">参考</a>先刷到U盘</li>
<li>U盘启动以后，终端执行 <code>install-to-emmc.sh</code>，就可以安装到eMMC，然后就可以关机拔掉U盘</li>
<li>开机前连接HDMI显示器启动的话可以显示终端，所以可以接到HDMI看打印日志，注意必须在开机前就接上HDMI显示器才有效。如果接了USB键盘，当显示器的日志不再滚动时按键盘回车键可以进入iStoreOS命令行。</li>
<li>默认网口是DHCP客户端，所以IP不是固定的，在连接显示器启动的情况下可以在命令行执行<code>ip addr</code>命令查看IP，否则在主路由后台看看最近分配的IP地址。</li>
<li>系统启动过程中，前面的LOGO灯会闪。一般开机后20秒内灯会开始闪，系统初始化完毕以后灯变成常亮。如果开机以后30秒灯还不闪，估计启动失败了。</li>
<li>如果要升级固件，不需要重新制作U盘或写入eMMC，只需下载新固件（无需解压），然后在网页后台“系统”-“备份&#x2F;升级”，点击“刷写固件”按钮，上传新固件，然后按页面提示升级。</li>
</ol>
<p>如果遇到问题，或者怀疑固件BUG，那么分以下情况重新刷机：</p>
<ul>
<li><p>如果盒子是原厂固件：如果版本比较高要先降级到2.19（具体怎么降级B站很多教程，至少Bootloader要降级），降级以后进安卓系统，联网获取IP，然后插上制作好的U盘，然后用电脑执行<code>adb connect 盒子IP</code>连接盒子，再执行<code>adb shell reboot update</code>，系统会自动重启几次，之后就会进入iStoreOS了。</p>
</li>
<li><p>如果盒子原本就是Linux系统（非安卓），例如armbian或flippy的固件：那只要插上制作好的U盘即可启动到iStoreOS。</p>
</li>
<li><p>如果原本是砖，或者想完全恢复出厂状态，或者遇到其他系统启动问题：那么参考B站的救砖教程（可能需要拆机），救砖以后就按原厂固件刷机流程。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th><a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw.koolcenter.com/iStoreOS/alpha/n1//?C=N&O=A">File Name</a>  <a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw.koolcenter.com/iStoreOS/alpha/n1//?C=N&O=D">↓</a></th>
<th><a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw.koolcenter.com/iStoreOS/alpha/n1//?C=S&O=A">File Size</a>  <a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw.koolcenter.com/iStoreOS/alpha/n1//?C=S&O=D">↓</a></th>
<th><a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw.koolcenter.com/iStoreOS/alpha/n1//?C=M&O=A">Date</a>  <a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw.koolcenter.com/iStoreOS/alpha/n1//?C=M&O=D">↓</a></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw0.koolcenter.com/iStoreOS/alpha/n1/istoreos-amlogic-meson-phicomm_n1-squashfs-20240329.img.gz" title="istoreos-amlogic-meson-phicomm_n1-squashfs-20240329.img.gz">istoreos-amlogic-meson-phicomm_n1-squashfs-20240329.img.gz</a></td>
<td>108.4 MiB</td>
<td>2024-03-29 19:19</td>
</tr>
<tr>
<td></td>
<td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://fw0.koolcenter.com/iStoreOS/alpha/n1/istoreos-22.03.6-2024043010-phicomm_n1-squashfs.img.gz" title="istoreos-22.03.6-2024043010-phicomm_n1-squashfs.img.gz">istoreos-22.03.6-2024043010-phicomm_n1-squashfs.img.gz</a></td>
<td>108.4 MiB</td>
<td>2024-04-30 14:02</td>
</tr>
</tbody></table>
<h2 id="安装dpanel"><a href="#安装dpanel" class="headerlink" title="安装dpanel"></a>安装dpanel</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">   --restart unless-stopped \</span><br><span class="line">   --name dpanel \</span><br><span class="line">   -p 8807:8080 \</span><br><span class="line">   -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">   -v $(<span class="built_in">pwd</span>)/data:/dpanel \</span><br><span class="line">   -e APP_NAME=dpanel \</span><br><span class="line">   dpanel/dpanel:latest</span><br></pre></td></tr></table></figure>
<h2 id="安装wireguard"><a href="#安装wireguard" class="headerlink" title="安装wireguard"></a>安装wireguard</h2><p><code>WireGuard</code> 是一种现代、快速且安全的虚拟专用网络 (VPN) 通信协议和免费开源软件。</p>
<p><code>WireGuard</code> 的设计目标在于易于使用、高速性能和低攻击面。它利用了最新的加密技术，旨在提供比 <code>IPsec</code> 和 <code>OpenVPN</code> 等传统 VPN 协议更好的性能和更强大的功能。<code>WireGuard</code> 的核心代码相对精简，被 <code>Linux</code> 之父 <code>Linus Torvalds</code> 称为 <code>艺术品</code>，其核心代码只有四千多行。</p>
<p>此外，<code>WireGuard</code> 协议通过 <code>UDP</code> 传递流量，使其在速度和安全性方面具有显著优势。它被设计为简单、高效，并适用于从低端设备如树莓派到高端服务器的广泛环境。</p>
<blockquote>
<p><strong>这玩意简单、灵活，怪不得会被 <code>Linus Torvalds</code> 直接合入内核。本文记录的是 <code>WireGuard</code> 的一种用法。</strong></p>
</blockquote>
<h3 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h3><p>在 <code>istore</code> 中安装 <code>luci-proto-wireguard</code> 和 <code>qrencode</code> 两个包。<br><img src="https://6xyun.cn/files/2024/03/VYvFp5ai/%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85-1.png" alt="安装软件包-1.png"></p>
<p><img src="https://6xyun.cn/files/2024/03/PK9upSMe/%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85-2.png" alt="安装软件包-2.png"></p>
<p>其中 <code>luci-proto-wireguard</code> 是用于支持 <code>WireGuard</code> 的核心包，<code>qrencode</code> 用来生成展示客户端的二维码。</p>
<p><strong>！！！安装后重启一次 <code>istore</code>，否则无法进行下一步！！！</strong></p>
<h3 id="配置服务"><a href="#配置服务" class="headerlink" title="配置服务"></a>配置服务</h3><h4 id="创建接口"><a href="#创建接口" class="headerlink" title="创建接口"></a>创建接口</h4><p>和 <code>OpenVPN</code> 不一样，<code>WireGuard</code> 在 <code>OpenWrt</code> 中是作为一种接口的存在。要开启 <code>WireGuard</code> 首先是需要创建对应的接口。<br><img src="https://6xyun.cn/files/2024/03/QMhq3IyH/%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3.png" alt="添加接口.png"></p>
<p>在 <code>网络</code> 的 <code>接口</code> 界面，点击 <code>添加新接口</code> 创建。协议选择 <code>WireGuard VPN</code>。</p>
<p>接下来配置接口。<br><img src="https://6xyun.cn/files/2024/03/8weg3K9z/%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3-%E5%B8%B8%E8%A7%84%E8%AE%BE%E7%BD%AE.png" alt="添加接口-常规设置.png"><br>编辑接口，配置公私钥、配置监听端口、配置隧道的 <code>IP</code> 。<br>公私钥如果已经持有直接填写即可，如果没有可以点击 <code>生成新的密钥对</code> 快速创建。<br><img src="https://6xyun.cn/files/2024/03/PLSFkeAI/%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3-%E9%98%B2%E7%81%AB%E5%A2%99%E8%AE%BE%E7%BD%AE.png" alt="添加接口-防火墙设置.png"><br>配置防火墙，也可以后面单独配置。<br><img src="https://6xyun.cn/files/2024/03/hedKOD0O/%E6%B7%BB%E5%8A%A0%E6%8E%A5%E5%8F%A3-%E7%BB%93%E6%9E%9C.png" alt="添加接口-结果.png"></p>
<h4 id="添加对端"><a href="#添加对端" class="headerlink" title="添加对端"></a>添加对端</h4><p><code>WireGuard</code> 可以快速的搭建星型网络隧道。这里它作为服务器，需要给它添加对端（这个场景可以理解为客户端）。<br><img src="https://6xyun.cn/files/2024/03/lpKLtqRu/%E6%B7%BB%E5%8A%A0%E5%AF%B9%E7%AB%AF.png" alt="添加对端.png"><br>在接口的 <code>对端</code> 界面，点击 <code>添加对端</code>。</p>
<p><img src="https://6xyun.cn/files/2024/03/4octS1Wf/%E6%B7%BB%E5%8A%A0%E5%AF%B9%E7%AB%AF-%E7%BC%96%E8%BE%91%E5%AF%B9%E7%AB%AF.png" alt="添加对端-编辑对端.png"></p>
<p>需要给 <code>对端</code> 配置公私钥、预共享密钥（建议设置）、<code>允许的IP</code> 和 <code>持续 Keep-Alive</code>。在国内，一般 <code>Peer</code> 都是在 <code>NAT</code> 之中，建议给设置上 <code>持续 Keep-Alive</code> 来保持 <code>UDP</code> 在 <code>NAT</code> 中的有效性。</p>
<h3 id="防火墙配置"><a href="#防火墙配置" class="headerlink" title="防火墙配置"></a>防火墙配置</h3><p>和 <code>istore</code> 类似，防火墙部分也需要两个步骤。</p>
<h4 id="配置虚拟网卡策略"><a href="#配置虚拟网卡策略" class="headerlink" title="配置虚拟网卡策略"></a>配置虚拟网卡策略</h4><p>在创建接口时如果没有创建防火墙的 <code>区域</code> 则现在可以创建一个，关联上 <code>WireGuard</code> 的接口。继续配置新增加的 <code>区域</code>。<br><img src="https://6xyun.cn/files/2024/03/t7Q0Z9MT/%E9%98%B2%E7%81%AB%E5%A2%99-%E5%8C%BA%E5%9F%9F%E8%AE%BE%E7%BD%AE.png" alt="防火墙-区域设置.png"></p>
<p>在新增加的区域中将 lan 网络组合在一起，然后将 <code>入站数据</code>、<code>出站数据</code> 和 <code>转发</code> 都给放行，转发区域选择 <code>lan</code> 和 <code>wan</code>。</p>
<p>当然，也可以通过修改现有的 <code>lan</code> 区域将 <code>WireGuard</code> 的接口绑定到一起，效果是类似的。</p>
<p>配置防火墙的要点：</p>
<ul>
<li>如果需要局域网内设备普通情况下可以直接和隧道内设备通讯，则需要满足 <code>lan</code> 和 <code>WireGuard</code> 的接口绑定在同一个区域。</li>
<li>如果需要隧道内设备可以和局域网内设备通讯，则需要满足 <code>WireGuard</code> 的接口放行了向 <code>lan</code> 或 <code>OpenWrt(即不指定)</code> 的转发。</li>
</ul>
<h4 id="配置工作端口入站放行"><a href="#配置工作端口入站放行" class="headerlink" title="配置工作端口入站放行"></a>配置工作端口入站放行</h4><p>正常情况下通过 <code>wan</code> 口的外网是访问不了 <code>51820</code> 端口的。<br><img src="https://6xyun.cn/files/2024/03/j4Kp7U0J/%E9%98%B2%E7%81%AB%E5%A2%99-%E5%85%A5%E7%AB%99%E8%A7%84%E5%88%99.png" alt="防火墙-入站规则.png"></p>
<p>在防火墙 <code>通信规则</code> 中新增加对 <code>wan</code> 口 <code>51820</code> 端口的放行策略。</p>
<h3 id="扫码连接"><a href="#扫码连接" class="headerlink" title="扫码连接"></a>扫码连接</h3><p>到这里，<code>istore</code> 的 <code>WireGuard</code> 就配置完毕了，接下来就可以在客户端中发起连接了。<br><img src="https://6xyun.cn/files/2024/03/2935xgJg/%E7%94%9F%E6%88%90%E9%85%8D%E7%BD%AE.png" alt="生成配置.png"></p>
<p>在 <code>WireGuard</code> 接口的 <code>对端</code> 中打开目标对端的详情页，点击 <code>生成配置</code> 按钮，此页面上半部分设置导出给客户端配置的 <code>连接端点</code>、<code>路由</code>、<code>DNS</code> 和 <code>IP</code> 等信息，下半部分则是对应的配置二维码。</p>
<p>如果你的 <code>istore</code> 配置了 <code>DDNS</code>，那么 <code>连接端点</code> 可以自动带出域名可供选择。</p>
<p>当然，这些信息是为了快速配置客户端用的。这些信息也可以在客户端手动修改。</p>
<h1 id="什么？！配置不生效"><a href="#什么？！配置不生效" class="headerlink" title="什么？！配置不生效"></a>什么？！配置不生效</h1><p><strong>在 <code>istore</code> 只保存 <code>WireGuard</code> 配置是无效的！！！</strong></p>
<p><strong>修改 <code>WireGuard</code> 配置之后必须重启 <code>WireGuard</code> 程序来应用配置，在 <code>istore</code> 对应操作是重启 <code>WireGuard</code> 的接口。</strong></p>
<p>下面这些动作会导致配置变化，都<strong>需要保存配置后重启 <code>WireGuard</code> 接口来应用配置</strong>：</p>
<ul>
<li>增加 <code>Peer</code> 条目</li>
<li>修改 <code>Peer</code> 信息</li>
<li>删除 <code>Peer</code> 条目</li>
</ul>
<p>这些动作不会引起配置变化：</p>
<ul>
<li>导出 <code>Peer</code> 条目</li>
</ul>
<blockquote>
<p>重启 <code>WireGuard</code> 接口后流量记录会清零。</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://blog.340102.xyz">池中物</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://blog.340102.xyz/posts/1666d695/">http://blog.340102.xyz/posts/1666d695/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://blog.340102.xyz" target="_blank">Only 18+</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/istoreOS/">istoreOS</a></div><div class="post-share"><div class="social-share" data-image="https://picsum.photos/1920/1080" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/3e946402/" title="N1安装istoreOS过程中的坑1"><img class="cover" src="https://unsplash.it/1920/1080?random" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-08</div><div class="info-item-2">N1安装istoreOS过程中的坑1</div></div><div class="info-2"><div class="info-item-1">    USB插上后屏幕不亮怎么刷网上教程很多，但大部分没说屏幕会不亮的情况，没关系，只要LED有不停的闪过就行，通电后约30秒，去路由器里查IP，用IP通过网页直接登录就行  Docker报错 Cannot connect to the Docker daemon at unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock. Is the docker daemon running  编辑&#x2F;tmp&#x2F;dockerd&#x2F;daemon.json，把data-root后面值里的反斜杠\都去掉，然后重启下docker就好 # 重启docker守护进程/etc/init.d/dockerd restart  也可以拿我改好的内容直接覆盖daemon.json &#123;   &quot;data-root&quot;: &quot;/overlay/upper/opt/docker&quot;,  &quot;log-level&quot;: &quot;warn&quot;, ...</div></div></div></a><a class="pagination-related" href="/posts/f579a9f0/" title="N1安装istoreOS过程中的坑2"><img class="cover" src="https://t.mwm.moe/fj" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-08</div><div class="info-item-2">N1安装istoreOS过程中的坑2</div></div><div class="info-2"><div class="info-item-1">    斐讯N1 iStoreOS配置iStoreOS 是基于 OpenWrt 的第三方固件，在今年添加了对斐讯N1的支持。相比官方的 OpenWrt ，iStoreOS 的优点在于：  对中文的支持更好，对国内用户更友好。 官方维护了IStore商城，方便下载常用的OpenWrt软件。 配置简单，有图形化界面，对新手更友好。  刷写下载iStoreOS固件在iStoreOS官网下载斐讯N1的固件。 刷写固件使用 Etcher 或其他刷写工具将下载的固件刷写U盘中。  刷写问题可参照iStoreOS官网的教程。  获取路由IP有两种方式可以获取： 方式一 在U盘启动前 将刷写U盘插到距离HDMI口最近的USB接口上 盒子下电，HDMI连接显示屏 盒子连接路由器 （n1 固件默认作为旁路由使用，IStoreOS会自动分配主路由网段下的任意IP） 盒子上电，等待boot启动 当命令行不在滚动时，按下回车键，出现 ISTOREOS 字样则启动成功 使用 ip addr 命令获取路由IP  方式二 浏览器访问主路由IP，进入路由后台 查看有线连接设备的IP地址...</div></div></div></a><a class="pagination-related" href="/posts/d952ac77/" title="allinone使用说明"><img class="cover" src="https://picsum.photos/1920/1080" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-17</div><div class="info-item-2">allinone使用说明</div></div><div class="info-2"><div class="info-item-1">    使用说明：一、请先打开下面网站，一键生成ALLINONE部署命令：点击打开命令生成器设置自动更新ALLINONE，如果你使用Docker部署方式，在部署完成后，建议再配置watchtower自动监听allinone镜像更新，同步Docker-Hub仓库！！！注意，你需要先去生成器生成部署命令执行后再配置自动更新：docker run -d --name watchtower --restart=always -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower allinone  --cleanup --interval 3600 二、详细使用方法Gaoma和Itv以及Rptv聚合M3U获取：声明：如果你是在公网服务器部署，不愿意开启聚合TV直播服务，在运行裸程序或者Docker时，加上参数 -tv&#x3D;false...</div></div></div></a><a class="pagination-related" href="/posts/f029f310/" title="allinone部署教程"><img class="cover" src="https://t.mwm.moe/fj" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-17</div><div class="info-item-2">allinone部署教程</div></div><div class="info-2"><div class="info-item-1">     allinone俗称肥羊一个集成了iptv聚合以及多个直播平台（如斗鱼、虎牙、抖音等）直播源的好项目  主要功能  聚合直播源： 能够聚合多个直播平台的直播源，用户可以通过该镜像直接观看多个平台的直播内容。 支持高清画质： 该镜像支持流畅观看4K及更高画质的直播源，为用户提供高清的观看体验。 多平台支持： 除了Docker外，还提供了主流平台的二进制文件，包括exe格式，方便用户在不同平台上部署和使用。  部署教程 作者为了防止项目泛滥，设置了门槛，需要生成指定的ALLINONE部署命令才能完成安装  前提条件： 要有TG（电报）软件 1️⃣生成AES密钥 打开下面这个网址，根据自己的环境生成AES密钥，复制保存此密钥！ # 鉴权机器人链接https://t.me/newallinone_bot   2️⃣获取Userid和专属Token 打开TG（电报）并且打开 ALLINONE鉴权机器人 ，粘贴前面复制的AES，获取 Userid 和专属 Token #...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://pic.340102.xyz/api/rfile/IMG_5522.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">池中物</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">24</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">10</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:xxxxxx@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a><a class="social-icon" href="https://www.youtube.com" rel="external nofollow noreferrer" target="_blank" title="YouTube"><i class="fab fa-youtube" style="color: #000000;"></i></a><a class="social-icon" href="https://www.wechat.com/xxxxxx" rel="external nofollow noreferrer" target="_blank" title="WeChat"><i class="fab fa-weixin" style="color: #000000;"></i></a><a class="social-icon" href="https://t.me/xxxxxx" rel="external nofollow noreferrer" target="_blank" title="Telegram"><i class="fab fa-telegram" style="color: #000000;"></i></a><a class="social-icon" href="https://www.tiktok.com/explore" rel="external nofollow noreferrer" target="_blank" title="TikTok"><i class="fab fa-tiktok" style="color: #000000;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%90%E8%AE%AFN1-%E4%B8%93%E7%94%A8%E6%96%87%E6%A1%A3"><span class="toc-number">1.</span> <span class="toc-text">斐讯N1 专用文档</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85dpanel"><span class="toc-number">2.</span> <span class="toc-text">安装dpanel</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85wireguard"><span class="toc-number">3.</span> <span class="toc-text">安装wireguard</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-number">3.1.</span> <span class="toc-text">安装软件包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%8D%E5%8A%A1"><span class="toc-number">3.2.</span> <span class="toc-text">配置服务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.2.1.</span> <span class="toc-text">创建接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%AF%B9%E7%AB%AF"><span class="toc-number">3.2.2.</span> <span class="toc-text">添加对端</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">防火墙配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1%E7%AD%96%E7%95%A5"><span class="toc-number">3.3.1.</span> <span class="toc-text">配置虚拟网卡策略</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%B7%A5%E4%BD%9C%E7%AB%AF%E5%8F%A3%E5%85%A5%E7%AB%99%E6%94%BE%E8%A1%8C"><span class="toc-number">3.3.2.</span> <span class="toc-text">配置工作端口入站放行</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%AB%E7%A0%81%E8%BF%9E%E6%8E%A5"><span class="toc-number">3.4.</span> <span class="toc-text">扫码连接</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%EF%BC%9F%EF%BC%81%E9%85%8D%E7%BD%AE%E4%B8%8D%E7%94%9F%E6%95%88"><span class="toc-number"></span> <span class="toc-text">什么？！配置不生效</span></a></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/f029f310/" title="allinone部署教程"><img src="https://t.mwm.moe/fj" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="allinone部署教程"/></a><div class="content"><a class="title" href="/posts/f029f310/" title="allinone部署教程">allinone部署教程</a><time datetime="2025-02-17T07:47:46.000Z" title="发表于 2025-02-17 15:47:46">2025-02-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d952ac77/" title="allinone使用说明"><img src="https://picsum.photos/1920/1080" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="allinone使用说明"/></a><div class="content"><a class="title" href="/posts/d952ac77/" title="allinone使用说明">allinone使用说明</a><time datetime="2025-02-17T07:43:19.000Z" title="发表于 2025-02-17 15:43:19">2025-02-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/5fa76441/" title="安装G-Box"><img src="https://unsplash.it/1920/1080?random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安装G-Box"/></a><div class="content"><a class="title" href="/posts/5fa76441/" title="安装G-Box">安装G-Box</a><time datetime="2025-02-14T04:37:37.000Z" title="发表于 2025-02-14 12:37:37">2025-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1666d695/" title="N1安装iStoreOS教程"><img src="https://picsum.photos/1920/1080" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="N1安装iStoreOS教程"/></a><div class="content"><a class="title" href="/posts/1666d695/" title="N1安装iStoreOS教程">N1安装iStoreOS教程</a><time datetime="2025-02-14T03:33:47.000Z" title="发表于 2025-02-14 11:33:47">2025-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/3e946402/" title="N1安装istoreOS过程中的坑1"><img src="https://unsplash.it/1920/1080?random" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="N1安装istoreOS过程中的坑1"/></a><div class="content"><a class="title" href="/posts/3e946402/" title="N1安装istoreOS过程中的坑1">N1安装istoreOS过程中的坑1</a><time datetime="2025-02-08T03:28:00.000Z" title="发表于 2025-02-08 11:28:00">2025-02-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(https://picsum.photos/1920/1080);"><div id="footer-wrap"><div class="copyright">&copy;1980 - 2025 By 池中物</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hey, hit <a href="https://blog.340102.xyz/">me</a> hard and soft!!!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'ahsyon/comments',
      'data-repo-id': 'R_kgDONgKNnA',
      'data-category-id': 'DIC_kwDONgKNnM4ClY3N',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.app')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><div class="aplayer no-destroy" data-id="60198" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-order="random" data-mutex="true" > </div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>